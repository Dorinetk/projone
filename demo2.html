<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Text-to-Speech API Demo</title>
</head>

<body>

<!-- <form id="input-form">
        <input type="text" name="text" id="text">
        <input type="submit" value="Listen">
</form>  -->

<br> <br>

<!--   
<audio id="audio-player" controls>
    
    Your browser does not support the audio element.
</audio>

<br> <br> -->

<!-- Trying to build an audio tag to incorporate to the main code-->
<h2>Fully from the DOM </h2>

<section class="sectionB" id="recipeArea">
    
</section>


  
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
  <script>
    // if input is from a form
    // document.getElementById("input-form").addEventListener("submit", function (event) {
    //   event.preventDefault();

    //   // text is the value we get from first API

    //   var text = document.getElementById("text").value.trim();
    //***************

    // here the value of text is predefined/ need to grab from first API
    var text = "Two steaks";
    // var text = recipetitle + recipecaloriescount + recpicenutrients + allergies???

    //***************
    // if using the prebuild HTML
    // var player = document.getElementById("audio-player");
    // player.setAttribute("src", "http://api.voicerss.org/?key=e6b1a9b2a501450aa31c4169692fc21c&hl=en-us&src=" + text);
    ////player.play();

    
    
    // section with id recipeArea    
    var recipArea = $("#recipeArea");

    //builds a figure to display the audio element. view sample: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio


    var listenArea = $("<figure>");
    recipArea.append(listenArea);

      
    var figCaption = $("<figcaption>");
    listenArea.append(figCaption);
    figCaption.text("Listen to the health factors of the recipe:");

    var buildPlayer = $("<audio>");
    listenArea.append(buildPlayer);
    buildPlayer.attr("controls","controls");
    buildPlayer.attr("type","audio/mpeg");
    buildPlayer.attr("src","http://api.voicerss.org/?key=e6b1a9b2a501450aa31c4169692fc21c&hl=en-us&src=" + text);
    buildPlayer.text("Your browser does not support the audio element.");


    // });
  </script>
</body>

</html>