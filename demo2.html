<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title> Demo - Projet Parmesan</title>
</head>

<body>
  <!-- This demo is to test the functionality of our second API text to speech-->
  <!-- we want to give an option to the user to listen to a recipe instructions while cooking -->

    <!-- audio output area -->
    <section class="section">

      <div class="columns">
        <div id="audioArea" class="column is-12">
          <p>Click below to listen to this recipes details:</p>
          <audio controls id="audioOutput">
              <!-- Will build this sample source tag with JQuery. Using the source as the API's response-->
              <!-- <source src="https://www.computerhope.com/jargon/m/example.mp3" type="audio/mpeg"> -->
              Your browser does not support the audio element.
          </audio>
        </div>
      </div>
      
    </section>

  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">

    var recipeInput = "This is our list of ingredients for a steak";

    //from http://www.voicerss.org/personel/default.aspx
    var APIkey = "e6b1a9b2a501450aa31c4169692fc21c";

    var queryURL = "https://voicerss-text-to-speech.p.rapidapi.com/?key=" + APIkey;
    
    function recipeAudioSummary(input) {

    
      var settings = {
      "async": true,
      "crossDomain": true,
      "url": queryURL,
      "method": "POST",
      "data": {
          "c":"mp3",
          "r":"0",
          "f":"8khz_8bit_mono",
          "src":input,
          "hl":"en-us"
          },
      "headers": {
        "content-type":"application/x-www-form-urlencoded",
        "x-rapidapi-host": "voicerss-text-to-speech.p.rapidapi.com",
        "x-rapidapi-key": "22006f7494mshba54f2f51b40deep19c598jsn1b2fad49830c"
      }
      
    };

    $.ajax(settings).done(function(response) {
     
      console.log(queryURL);
      console.log(response);
      console.log(input);

     //response.play();   //new Audio(response)
      
    });
}

recipeAudioSummary(recipeInput)

   

  </script>
</body>

</html>
